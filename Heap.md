## Heap

**堆是一种特殊的树**

### 堆的满足条件
- 一个完全二叉树（除了最后一层，其他层的节点个数都是满的，最后一层的节点都靠左排列）
- 堆中每一个节点的值都必须大于等于（或小于等于）其子树中每个节点的值

### 性质
![image](image/heap_1.jpg)
- 每个节点的值都大于等于子树中每个节点值的堆叫做**大顶堆**， 反之叫做**小顶堆**

### 如何实现一个堆

#### 堆都支持哪些操作
##### 插入
- 调整堆，使其重新满足堆的特性的过程叫做堆化(heapify)
- 堆化有两种：从上往下 & 从下往上；过程：顺着节点所在的路径，向上或者向下，对比，然后交换

##### 删除堆顶元素
- 假设我们构造的是大顶堆，堆顶元素就是最大的元素；当我们删除堆顶元素后， 就要把原堆中第二大元素放到堆顶，再迭代的删除第二大节点，以此类推；直到叶子节点被删除；
- 将第二大元素放到堆顶的方法： 将堆里最后一个节点放到堆顶， 再以从上往下的堆化方法互换节点，直到父子节点满足大小关系为止

#### 如何存储一个堆 - 用数组  
![image](image/heap_s.jpg)

### 堆排序
#### 建堆 & 排序
- 建堆：往数组里依次插入
- 当堆顶元素移除之后，我们把下标为 n 的元素放到堆顶，然后再通过堆化的方法，将剩下的 n−1 个元素重新构建成堆。堆化完成之后，我们再取堆顶的元素，放到下标是 n−1 的位置，一直重复这个过程，直到最后堆中只剩下标为 1 的一个元素，排序工作就完成了。
![image](image/heap_p.jpg)


